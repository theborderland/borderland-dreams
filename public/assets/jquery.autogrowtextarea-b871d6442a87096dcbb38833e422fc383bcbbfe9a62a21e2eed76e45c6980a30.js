jQuery.fn.autoGrow=function(e){return this.each(function(){var t=jQuery.extend({extraLine:!0},e),r=function(e){return jQuery(e).after('<div class="autogrow-textarea-mirror"></div>'),jQuery(e).next(".autogrow-textarea-mirror")[0]},s=function(e){h.innerHTML=String(e.value).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />")+(t.extraLine?".<br/>.":""),jQuery(e).height()!=jQuery(h).height()&&jQuery(e).height(jQuery(h).height())},i=function(){s(this)},h=r(this);h.style.display="none",h.style.wordWrap="break-word",h.style.whiteSpace="pre-wrap",h.style.padding=jQuery(this).css("paddingTop")+" "+jQuery(this).css("paddingRight")+" "+jQuery(this).css("paddingBottom")+" "+jQuery(this).css("paddingLeft"),h.style.borderStyle=jQuery(this).css("borderTopStyle")+" "+jQuery(this).css("borderRightStyle")+" "+jQuery(this).css("borderBottomStyle")+" "+jQuery(this).css("borderLeftStyle"),h.style.borderWidth=jQuery(this).css("borderTopWidth")+" "+jQuery(this).css("borderRightWidth")+" "+jQuery(this).css("borderBottomWidth")+" "+jQuery(this).css("borderLeftWidth"),h.style.width=jQuery(this).css("width"),h.style.fontFamily=jQuery(this).css("font-family"),h.style.fontSize=jQuery(this).css("font-size"),h.style.lineHeight=jQuery(this).css("line-height"),h.style.letterSpacing=jQuery(this).css("letter-spacing"),this.style.overflow="hidden",this.style.minHeight=this.rows+"em",this.onkeyup=i,this.onfocus=i,s(this)})};